{% import datetime %}
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Experiment</title>
<link rel="stylesheet" href="{{static_url('css/bootstrap.min.css')}}"/>
<script src="{{static_url('js/jquery-1.11.2.min.js')}}"></script>
<script src="{{static_url('js/bootstrap.min.js')}}"></script>
<script src="{{static_url('js/Chart.min.js')}}">
var Chartjs = Chart.noConflict();
</script>
<script src="{{static_url('js/experiment.js')}}"></script>
</head>
<body>
<h1>Experiments</h1>
<table id="experiments" class="table table-hover">
	<thead>
		<tr>
			<th>ID</th>
			<th>Type</th>
			<th>Status</th>
			<th>Nodes</th>
			<th>Last updated time</th>
			<th>Runtime</th>
		</tr>
	</thead>
	<tbody>
		{% for e in experiments %}
				<tr>
					<td><a href="/types/{{e['name']}}/experiments/{{e['expid']}}">{{e['expid']}}</a></td>
					<td>{{e['name']}}</td>
					<td>{{e['status']}}</td>
					<td>{{ ','.join(e['nodes']) }}</td>
					<td>{{datetime.datetime.fromtimestamp(e['timestamp'] / 1000).strftime("%Y-%m-%d %H:%M:%S")}}</td>
					<td>{{e['runtime'] if 'runtime' in e else '-'}}</td>
				</tr>
		{% end %}
	</tbody>
</table>
<canvas id="cpu_usage" width="1500" height="500"></canvas>
<canvas id="mem_usage" width="1500" height="500"></canvas>
<canvas id="read_count" width="1500" height="500"></canvas>
<canvas id="write_count" width="1500" height="500"></canvas>
<canvas id="read_bytes" width="1500" height="500"></canvas>
<canvas id="write_bytes" width="1500" height="500"></canvas>
<canvas id="runtime" width="1500" height="500"></canvas>
</body>
</html>